{#
    basic/genindex.html
    ~~~~~~~~~~~~~~~~~~~

    Template for an "all-in-one" index.

    :copyright: Copyright 2007-2015 by the Sphinx team, see AUTHORS.
    :license: BSD, see LICENSE for details.
#}
{% macro indexentries(firstname, links, ifsubentries, subitems) %}
<li{%- if ifsubentries %} class="subentries"{%- endif %}>
    {%- if links -%}
      <a href="{{ links[0][1] }}"{%- if links[0][0] %} class="main-index-name"{% endif -%}>{{ firstname|e }}</a>
      {%- for ismain, link in links[1:] -%}
        , <a href="{{ link }}" class="loop-index {%- if ismain %} main-index{% endif -%}">{{ loop.index }}</a>
      {%- endfor -%}
    {%- else -%}
      {{ firstname|e }}
    {%- endif -%}
    {%- if ifsubentries -%}</li>{%- endif -%}
{% endmacro %}

{%- extends "layout.html" %}
{% set title = _('Index') %}
{% block body %}
<!-- start genindex.html -->
<h1 id="index">{{ _('Index') }}</h1>

<div class="genindex-jumpbox">
 {% for key, dummy in genindexentries -%}
 <span></span><a href="#{{ key }}">{{ key }}</a>
 {%- endfor %}
</div>
<article class="genindex-wrapper">
{%- for key, entries in genindexentries %}
<h2 id="{{ key }}">{{ key }}</h2>
<div class="genindex-multi-columns">
<ul>
  {%- for entryname, (links, subitems) in entries -%}
    {{ indexentries(entryname, links, false, subitems) }}
    {%- if subitems %}
    <ul>
      {%- for subentryname, subentrylinks in subitems -%}
        {{ indexentries(subentryname, subentrylinks, true) }}
      {%- endfor %}
    </ul>
    {%- endif -%}</li>
  {%- endfor %}
</ul>
</div>
{% endfor %}
</article>
<!-- end genindex.html -->
{% endblock %}

{% block sidebarrel %}
{% if split_index %}
   <!-- start defined at genindex.html -->
   <h4>{{ _('Index') }}</h4>
   <p>{% for key, dummy in genindexentries -%}
   <a href="{{ pathto('genindex-' + key) }}" class="genindex-sidebarrel">{{ key }}</a>
     {% if not loop.last %}| {% endif %}
   {%- endfor %}</p>

   <p><a href="{{ pathto('genindex-all') }}" class="genindex-sidebarrel">{{ _('Full index on one page') }}</a></p>
   <!-- end defined at genindex.html -->
{% endif %}
   {{ super() }}
{% endblock %}
