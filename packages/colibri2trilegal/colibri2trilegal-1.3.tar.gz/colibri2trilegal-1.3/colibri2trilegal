#!/usr/bin/env python

import argparse
import logging
import os
import sys
import numpy as np
import colibri2trilegal

from argparse import RawTextHelpFormatter

logger = logging.getLogger(__name__)

def main(argv):
    """
    main caller to colibri2trilegal
    """
    description = "Parse COLIBRI tracks to use in TRILEGAL \n input file format: \n"
    description += colibri2trilegal.agb_input_defaults.__doc__

    parser = argparse.ArgumentParser(description=description,
                                     formatter_class=RawTextHelpFormatter)

    parser.add_argument('infile', type=str, help='input file name.')

    args = parser.parse_args(argv)

    logfile = 'colibri2trilegal.log'
    handler = logging.FileHandler(logfile)
    formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')
    handler.setFormatter(formatter)
    logger.addHandler(handler)
    logger.setLevel(logging.DEBUG)

    colibri2trilegal.colibri2trilegal(args.infile)


if __name__ == "__main__":
    main(sys.argv[1:])