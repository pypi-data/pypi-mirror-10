<html>
  <head>
    <title>BROFFEACT Documentation</title>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] +
        ':35729/livereload.js?snipver=2"></' + 'script>')</script>
    <style>
      table.doc_block {
         margin-top: 20px;
         border-collapse: collapse;
         padding: 5px;
         width: 100%;
      }
      table, td, th {
         border: 1px solid #111111;
         vertical-align: top;
         padding: 5px;
      }
      table tr td:nth-child(1) {
        padding-top: 8px;
        width: 15px;
      }
      table tr td:nth-child(2) {
         width: 300px;
      }
      table tr td:nth-child(3) pre {
         overflow: auto;
         white-space:pre-wrap;
      }
      th {
         font-weight: 400px;
         color: #FFFFFF;
         background-color: #001f3f;
      }
      .stats,
      .last_modif {
        color: #777777;
      }
      .fail {
        color: #FF4136;
      }
      .success {
        color: #3D9970;
      }
      .todo {
        color: #0074D9;
      }
      .function {
        color: #777777;
      }
      .component {
        color: #555555;
      }
      tr.requires {
         color: $requireColor;
         .text {
            width: 150px;
         }
      }
    </style>
  </head>
</html>
<body>
  <h1>BROFFEACT Documentation</h1>
  <div class="stats">
      <i class="fa fa-fw fa-pie-chart"></i>
      Total exported: {{ exported_cnt }}
      # Commented: {{ commented_cnt }}[{{ commented_percentage|round(2, 'floor') }}%]
      | Unused requires: {{ unused_cnt }}
  </div>
  <div class="last_modif">
    <i class="fa fa-fw fa-refresh"></i>
    Last modification: {{ last_modification }}
  </div>
  {% for val in values %}
    <table class="doc_block">
      <tr>
        <th colSpan=3 align="center">
          {{ val[0] }}
        </th>
      </tr>
      {% if val[1] %}
        <tr class='requires'>
          <td colSpan=3>
            {% if val[1] - val[2] %}
            <span class='success'>
              <i class='fa fa-check fa-fw'></i>Require(s):
              {{ (val[1] - val[2])|sort|join(', ') }}
            </span>
            {% if (val[1] - val[2]) and val[2] %}
              <br/>
            {% endif %}
            {% endif %}
            {% if val[2] %}
              <span class='fail'>
                <i class='fa fa-times fa-fw'></i>Require(s) unused:
                {{ val[2]|sort|join(', ') }}
              </span>
            {% endif %}
          </td>
        </tr>
      {% endif %}
      {% for exported_name, comment in val[3].items()|sort %}
        {% if 'DEPRECATED' in comment[1] or 'FIXME' in comment[1] %}
          <tr class="fail">
        {% elif "TODO" in comment[1] %}
          <tr class="todo">
        {% elif "f" in comment[0] %}
          <tr class="function">
        {% elif "c" in comment[0] %}
          <tr class="component">
        {% else %}
          <tr>
        {% endif %}
        <td>
          {% if "c" in comment[0] %}
            <i class="fa fa-briefcase" title="component"></i>
          {% elif "f" in comment[0] %}
            <i class="fa fa-bug" title="function"></i>
          {% endif %}
        </td>
        <td>{{ exported_name }}</td>
        <td>
          <pre>{{ comment[1] }}</pre>
        </td>
        </tr>
      {% endfor %}
    </table>
  {% endfor %}
  <br>
  <i>Documentation generated by <strong>broffeact</strong>
</body>
</html>
